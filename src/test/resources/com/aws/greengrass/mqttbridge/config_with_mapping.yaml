services:
  aws.greengrass.clientdevices.mqtt.Bridge:
    configuration:
      brokerServerUri: 'tcp://localhost:8883'
      mqttTopicMapping: '{
                            "mapping1" :{"topic": "topic/to/map/from/local/to/cloud", "source": "LocalMqtt", "target": "IotCore"},
                            "mapping2" :{"topic": "topic/to/map/from/local/to/pubsub", "source": "LocalMqtt", "target": "Pubsub"},
                            "mapping3" :{"topic": "topic/to/map/from/local/to/cloud/2", "source": "LocalMqtt", "target": "IotCore"}
                         }'
  main:
    dependencies:
      - aws.greengrass.clientdevices.mqtt.Bridge
