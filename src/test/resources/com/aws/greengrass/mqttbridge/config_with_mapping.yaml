services:
  aws.greengrass.clientdevices.mqtt.Bridge:
    configuration:
      brokerServerUri: 'tcp://localhost:8883'
      mqttTopicMapping: '[
                           {"sourceTopic": "topic/to/iotCore", "sourceTopicType": "LocalMqtt", "destTopic": "/test/cloud/topic", "destTopicType": "IotCore"},
                           {"sourceTopic": "topic/to/pubsub", "sourceTopicType": "LocalMqtt", "destTopic": "/test/pubsub/topic", "destTopicType": "Pubsub"},
                           {"sourceTopic": "topic/to/iotCore/2", "sourceTopicType": "LocalMqtt", "destTopic": "/test/cloud/topic2", "destTopicType": "IotCore"}
                         ]'
  main:
    dependencies:
      - aws.greengrass.clientdevices.mqtt.Bridge
